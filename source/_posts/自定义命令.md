---
title: 用自定义命令实现输入idea .自动启动intellij并打开当前路径项目所踩的那些坑 (1) 
---

本来想用 `idea .` 这种命令实现类似 visual studio code 中 `code .`  直接打开当前项目的命令.  
但是查阅文档 发现 Intellij 已经存在了 一个 `idea.bat .` 命令可以直接打开当前的命令行.  
所以尝试了一下 使用`idea.bat .` 命令. 结果抛错 `此时不应有 Intellij/`.  
百度一下发现出现这个错误的原因是因为路径中出现了空格符号 `/Intellij Idea/` 只要把文件提出来提出来执行就没有问题了.  
但是如果仅仅这样照做的话,我还水什么文啊.  
首先先不管这个错误,先尝试找到`idea.bat` 文件.最终在 安装文件的根目录下可以找到.  然后用记事本打开可以看到一些脚本  
然后万能的度娘会告诉我们 开头`ECHO OFF` 这行脚本会阻止后面脚本命令运行显示出来,把它修改成`ECHO ON` 然后再次运行
`idea.bat .`就可以发现现在有了很多额外的打印内容
![Image text]("\\images\\blankspaceeer.png")
然后在`idea.bat` 文件中检索 jbr (我用的是amd的u)
```
IF "%PROCESSOR_ARCHITECTURE%" == "AMD64" (
  IF EXIST "%IDE_HOME%\jbr" SET JDK=%IDE_HOME%\jbr
  IF EXIST "%JDK%" GOTO check
)
```
这里我们可以发现在,检索的时候文件路径并没有出现错误.而在`SET JDK=%IDE_HOME%\jbr`时抛错了.  
明显的区别就是双引号 
```
IF "%PROCESSOR_ARCHITECTURE%" == "AMD64" (
  IF EXIST "%IDE_HOME%\jbr" SET "JDK=%IDE_HOME%\jbr"
  IF EXIST "%JDK%" GOTO check
)
```
加上双引号后运行`idea.bat .` 这段命令成功通过  


未完待续...



